#!/bin/sh

# path
if [[ $UID -ge 1000 && -d $HOME/bin && -z $(echo $PATH | grep -o $HOME/bin) ]]; then
    export PATH=$HOME/bin:${PATH}
fi

# set editor to emacs, using daemon in terminal mode
export EDITOR="emacsclient -c"

# Turn on numlock
numlockx &

# Rebind caps to backspace
setxkbmap -option caps:none
xmodmap -e 'keycode 66 = BackSpace'

# bind menu key to windows key
xmodmap -e 'keycode 135 = Super_L'

# turn off beep
xset b off &

# Disable touchpad when typing
syndaemon -i 0.5 -K &

# startup programs

emacs --daemon &

background 300 &

if [ -z "$(pidof redshift)" ]; then
    redshift -t 5000K:3300K &
fi

if [ -z "$(pidof compton)" ]; then
    compton --backend glx --vsync opengl-swc &
fi
