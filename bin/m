#!/bin/sh

# Script to mount things

if (( "$#" != 1 )); then
    echo "Precisely one parameter required"
    exit 1
fi
cmd="sshfs"
extra=""
if [ $1 == "c" ]; then
    remote="10.0.0.4:/storage"
    local="/home/paho/sshfs/storage"
    extra="-o follow_symlinks"
elif [ $1 == "s" ]; then
    remote="10.0.0.2:/storage"
    local="/home/paho/sshfs/hstorage"
    extra="-o follow_symlinks"
elif [ $1 == "o" ]; then
    remote="luriegrp@shell.onid.oregonstate.edu:/users/u2/l/luriegrp/osu"
    local="/home/paho/sshfs/onid"
elif [ $1 == "i" ]; then
    remote="paho@openpower8.osuosl.org:/home/paho/"
    local="/home/paho/sshfs/openpower/"
else
    echo "Not in list"
    exit 1
fi
echo "Running fusermount -u $local"
fusermount -u $local
echo "Running $cmd $remote $local $extra"
exec "$cmd" "$remote" "$local" $extra

