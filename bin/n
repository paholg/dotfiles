#!/bin/sh

# Shortcuts for nix commands

if [ $1 == 'u' ]; then
    echo "Updating package list..."
    nix-env -qaP --description > ~/list
elif [ $1 == 's' ]; then
    echo "Searching..."
    grep ~/list -e $2
elif [ $1 == 'g' ]; then
    echo "Upgrading system..."
    sudo nixos-rebuild switch --upgrade
    sudo dhclient wlp1s0
elif [ $1 == 'b' ]; then
    echo "Rebuilding system..."
    sudo nixos-rebuild switch
    sudo dhclient wlp1s0
elif [ $1 == 'e' ]; then
    echo "Editing (requires root)..."
    emacs -nw -u paho /etc/nixos/configuration.nix
fi
